<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Boutique Ayiti Offre Online</title>
 <link rel="stylesheet" href="style.css" />
<style>
body {
font-family: Arial, sans-serif;
margin: 0;
padding: 0;
background-color: #f4f4f4;
}
header {
background: #333;
color: #fff;
padding: 10px 0;
text-align: left;
display: flex;
justify-content: space-between;
align-items: center;
padding: 10px 20px;
}
header h1 {
margin: 0;
}
.header-links {
display: flex;
}
.header-links a {
color: #fff;
text-decoration: none;
margin-left: 20px;
}
.header-links a:hover {
text-decoration: underline;
}
.container {
width: 80%;
margin: auto;
overflow: hidden;
}
.menu {
margin: 20px 0;
display: flex;
}
.btn-menu {
background: #5cb85c;
color: #fff;
padding: 15px;
border: none;
border-radius: 5px;
cursor: pointer;
margin-right: 10px;
}
.btn-menu:hover {
background: #4cae4c;
}
.dropdown-content {
display: none;
position: absolute;
background-color: #f9f9f9;
min-width: 300px;
box-shadow: 0 2px 5px rgba(0,0,0,0.1);
z-index: 1;
}
.product {
background: #fff;
border: 1px solid #ddd;
margin: 10px;
padding: 10px;
text-align: center;
border-radius: 5px;
box-shadow: 0 2px 5px rgba(0,0,0,0.1);
display: inline-block;
width: calc(30% - 20px);
cursor: pointer;
}
.product img {
max-width: 100%;
height: auto;
    width: 100%; /* Assurez-vous que l'image prend toute la largeur du conteneur */
    height: 550px; /* Définissez une hauteur fixe selon vos besoins */
    object-fit: cover; /* Cela permet de garder le ratio sans déformation */

}
.product h3 {
margin: 10px 0;
}
.product p {
color: #555;
}
.btn {
background: #5cb85c;
color: #fff;
padding: 10px 15px;
border: none;
border-radius: 5px;
cursor: pointer;
}
.btn:hover {
background: #4cae4c;
}
.product-info {
margin-top: 10px;
}
.modal {
display: none;
position: fixed;
z-index: 1;
left: 0;
top: 0;
width: 100%;
height: 100%;
overflow: auto;
background-color: rgb(0,0,0);
background-color: rgba(0,0,0,0.4);
padding-top: 60px;
}
.modal-content {
background-color: #fefefe;
margin: 5% auto;
padding: 20px;
border: 1px solid #888;
width: 80%;
}
.close {
color: #aaa;
float: right;
font-size: 28px;
font-weight: bold;
}
.close:hover,
.close:focus {
color: black;
text-decoration: none;
cursor: pointer;
}
#panier {
margin-top: 20px;
padding: 10px;
background-color: #fff;
border: 1px solid #ddd;
border-radius: 5px;
}
.cross {
color: red;
cursor: pointer;
font-size: 20px;
margin-left: 10px;
}
#modalImage {
max-width: 10%;
height: auto;
}
/* Styles pour les écrans de taille moyenne (tablettes) */
@media (max-width: 768px) {
    .container {
        width: 90%;
    }
    .product {
        width: calc(45% - 20px); /* Deux produits par ligne */
    }
}

/* Styles pour les petits écrans (téléphones) */
@media (max-width: 480px) {
    .product {
        width: calc(100% - 20px); /* Un produit par ligne */
    }
    .header-links {
        flex-direction: column; /* Liens en colonne */
        align-items: flex-start; /* Alignement à gauche */
    }
    .header-links a {
        margin-left: 0; /* Pas de marge à gauche */
        margin-bottom: 10px; /* Marge en bas pour espacer les liens */
    }
}
</style>
</head>
<body>

<header>
<h1>Notre Catalogue en differents sections</h1>
<div class="header-links">
<a href="#" onclick="checkPassword()">Paniers</a>

</div>
</header>

<div class="container">
<div class="menu">
<button class="btn-menu" onclick="toggleDropdown('dropdown1')">Section 1</button>
<button class="btn-menu" onclick="toggleDropdown('dropdown2')">Section 2</button>
<button class="btn-menu" onclick="toggleDropdown('dropdown3')">Section 3</button>
<button class="btn-menu" onclick="toggleDropdown('dropdown4')">Section 4</button>
<button class="btn-menu" onclick="toggleDropdown('dropdown5')">Section 5</button>
</div>

<div id="dropdown1" class="dropdown-content">
<script>
const products1 = [
{image: "img/sans manche.jpg", name: "Modele sans mache, forme normal.", priceUnit: "250$", priceThree: "500$", code: "AA682", options: [{color: "Rose", size: "M"}, {color: "Rose", size: "L"}, {color: "Rouge", size: "M"}, {color: "Blan", size: "XL"}, {color: "Bleu Roi", size: "XL"}, {color: "Bleu Roi", size: "XL"}, ]},
{image: "img/robe 500.jpg", name: "Modele Celebration, forme normal.", priceUnit: "250$", priceThree: "500$", code: "AA1170", options: [{color: "Rouge", size: "M"}, {color: "Rouge", size: "M"}, {color: "Rouge", size: "L"}, {color: "Noir", size: "S"}, {color: "Noir", size: "M"}, {color: "Noir", size: "L"}, {color: "Bleu", size: "S"}, {color: "Bleu", size: "M"}, {color: "Bleu", size: "L"}, {color: "Rose", size: "S"}, {color: "Rose", size: "M"}, {color: "Rose", size: "L"}]},
{image: "img/biden uni.jpg", name: "Modele d'occasion, forme normal.", priceUnit: "250$", priceThree: "500$", code: "AA574", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "M"}, {color: "Rouge", size: "XL"}, {color: "Noir", size: "S"}, {color: "Noir", size: "M"}, {color: "Noir", size: "L"}, {color: "Bleu", size: "S"}, {color: "Bleu", size: "M"}, {color: "Bleu", size: "L"}, {color: "Rose", size: "S"}, {color: "Rose", size: "M"}, {color: "Rose", size: "L"}]},
{image: "img/complet Gustavo.jpg", name: "Modele Recreative, forme normal.", priceUnit: "250$", priceThree: "500$", code: "15-3G45", options: [{color: "Rouge", size: "M"}, {color: "Rouge", size: "M"}, {color: "Rouge", size: "L"}, {color: "Noir", size: "S"}, {color: "Noir", size: "M"}, {color: "Noir", size: "L"}, {color: "Bleu", size: "S"}, {color: "Bleu", size: "M"}, {color: "Bleu", size: "L"}, {color: "Rose", size: "S"}, {color: "Rose", size: "M"}, {color: "Rose", size: "L"}]},

{image: "img/colan.jpg", name: "Colan de sport et de petite sortie.", priceUnit: "100$", priceThree: "250$", code: "0000", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "M"}, {color: "Rouge", size: "XL"}, {color: "Noir", size: "S"}, {color: "Noir", size: "M"}, {color: "Noir", size: "L"}, {color: "Bleu", size: "S"}, {color: "Bleu", size: "M"}, {color: "Bleu", size: "L"}, {color: "Rose", size: "S"}, {color: "Rose", size: "M"}, {color: "Rose", size: "L"}]},
{image: "img/mayo gason.jpg", name: "Parfait pour les sortie publiques.", priceUnit: "100$", priceThree: "300$", code: "0001", options: [{color: "Rouge", size: "M"}, {color: "Rouge", size: "M"}, {color: "Rouge", size: "L"}, {color: "Noir", size: "S"}, {color: "Noir", size: "M"}, {color: "Noir", size: "L"}, {color: "Bleu", size: "S"}, {color: "Bleu", size: "M"}, {color: "Bleu", size: "L"}, {color: "Rose", size: "S"}, {color: "Rose", size: "M"}, {color: "Rose", size: "L"}]},
{image: "img/madan baby.jpg", name: "Modele occasionnel, forme normal.", priceUnit: "250$", priceThree: "500$", code: "AA921", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "M"}, {color: "Rouge", size: "XL"}, {color: "Noir", size: "S"}, {color: "Noir", size: "M"}, {color: "Noir", size: "L"}, {color: "Bleu", size: "S"}, {color: "Bleu", size: "M"}, {color: "Bleu", size: "L"}, {color: "Rose", size: "S"}, {color: "Rose", size: "M"}, {color: "Rose", size: "L"}]},
{image: "img/pantalon leopard.jpg", name: "Jeans Recreative, forme normal.", priceUnit: "250$", priceThree: "500$", code: "AA905", options: [{color: "Bleu pale", size: "5.6, 7.8, 9.10, 11.12, 13.14, 15.16"}, {color: "Bleu foncé", size: "5.6, 7.8, 9.10, 11.12, 13.14, 15.16"} ,]},
{image: "img/robe gustavo.jpg", name: "Modele doccasion.", priceUnit: "200$", priceThree: "400$", code: "15-2G71", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "M"}, {color: "Rouge", size: "XL"}, {color: "Noir", size: "S"}, {color: "Noir", size: "M"}, {color: "Noir", size: "L"}, {color: "Bleu", size: "S"}, {color: "Bleu", size: "M"}, {color: "Bleu", size: "L"}, {color: "Rose", size: "S"}, {color: "Rose", size: "M"}, {color: "Rose", size: "L"}]},

{image: "img/sandales 350.jpg", name: "Sandales demi-talon, forme normal.", priceUnit: "150$", priceThree: "350$", code: "0003", options: [{color: "Noir", size: "S"}, {color: "Creme", size: "38"}, {color: "Marron", size: "37"}, {color: "Blan", size: "36"}, ]},
{image: "img/ti mayo.jpg", name: "Maillot femme, forme normal.", priceUnit: "150$", priceThree: "400$", code: "0004", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "M"}, {color: "Rouge", size: "XL"}, {color: "Noir", size: "S"}, {color: "Noir", size: "M"}, {color: "Noir", size: "L"}, {color: "Bleu", size: "S"}, {color: "Bleu", size: "M"}, {color: "Bleu", size: "L"}, {color: "Rose", size: "S"}, {color: "Rose", size: "M"}, {color: "Rose", size: "L"}]},


// Ajoutez d'autres produits ici
];

products1.forEach((product) => {
const optionsList = product.options.map(option => `${option.color} ${option.size}`).join(', ');
document.write(`
<div class="product" onclick="openModal('${product.image}', '${product.name}', '${product.priceUnit}', '${product.priceThree}', '${product.code}', '${optionsList}'); event.stopPropagation();">
<img src="${product.image}" alt="${product.name}" />
<h3>${product.name}</h3>
<div class="product-info">
<p>Prix Unitaire: ${product.priceUnit}</p>
<p>Prix pour 3: ${product.priceThree}</p>
<p>Code: ${product.code}</p>
<p>Options: ${optionsList}</p>
</div>
</div>
`);
});
</script>
</div>
</div>

<div id="dropdown2" class="dropdown-content">
    <script>
        const products2 = [
            {image: "img/2 koule.jpg", name: "Modele Bicolore", priceUnit: "300$", priceThree: "650$", code: "AA512", options: [{color: "Vert", size: "M"}, {color: "Jaune", size: "L"}]},
            {image: "img/bouquet fleurs.jpg", name: "Modele celebration", priceUnit: "250$", priceThree: "600$", code: "P202", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "XL"}]},
            {image: "img/bout konple.jpg", name: "Complet simple", priceUnit: "250$", priceThree: "600$", code: "AA512", options: [{color: "Vert", size: "M"}, {color: "Jaune", size: "L"}]},
            {image: "img/bout manche.jpg", name: "Modele manche courte", priceUnit: "250$", priceThree: "600$", code: "P202", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "XL"}]},
            {image: "img/catalina.jpg", name: "Modele Bicolore", priceUnit: "250$", priceThree: "600$", code: "AA512", options: [{color: "Vert", size: "M"}, {color: "Jaune", size: "L"}]},
            {image: "img/complet bout pantalon.jpg", name: "Modele celebration", priceUnit: "250$", priceThree: "600$", code: "P202", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "XL"}]},
           {image: "img/djessica1.jpg", name: "Modele Bicolore", priceUnit: "250$", priceThree: "600$", code: "AA512", options: [{color: "Vert", size: "M"}, {color: "Jaune", size: "L"}]},
            {image: "img/new bleu.jpg", name: "Modele celebration", priceUnit: "250$", priceThree: "600$", code: "P202", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "XL"}]},
           {image: "img/robe a veste.jpg", name: "Modele a veste", priceUnit: "250$", priceThree: "600$", code: "AA512", options: [{color: "Vert", size: "M"}, {color: "Jaune", size: "L"}]},
            {image: "img/Robe rose.jpg", name: "Modele celebration", priceUnit: "250$", priceThree: "600$", code: "P202", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "XL"}]},
           {image: "img/tuile.jpg", name: "Modele Bicolore", priceUnit: "300$", priceThree: "650$", code: "AA512", options: [{color: "Vert", size: "M"}, {color: "Jaune", size: "L"}]},
            {image: "img/tuile yon manche.jpg", name: "Modele celebration", priceUnit: "250$", priceThree: "600$", code: "P202", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "XL"}]},
        
        
        
        
        ];

        products2.forEach((product) => {
            const optionsList = product.options.map(option => `${option.color} ${option.size}`).join(', ');
            document.write(`
                <div class="product" onclick="openModal('${product.image}', '${product.name}', '${product.priceUnit}', '${product.priceThree}', '${product.code}', '${optionsList}'); event.stopPropagation();">
                    <img src="${product.image}" alt="${product.name}" />
                    <h3>${product.name}</h3>
                    <div class="product-info">
                        <p>Prix Unitaire: ${product.priceUnit}</p>
                        <p>Prix pour 3: ${product.priceThree}</p>
                        <p>Code: ${product.code}</p>
                        <p>Options: ${optionsList}</p>
                    </div>
                </div>
            `);
        });
    </script>
</div>
<div id="dropdown3" class="dropdown-content">
    <script>
        const products3 = [
            {image: "img/evaser.jpg", name: "Produit 3.1", priceUnit: "350$", priceThree: "800$", code: "P301", options: [{color: "Noir", size: "M"}, {color: "Blanc", size: "L"}]},
            {image: "img/gerdex.jpg", name: "Produit 3.2", priceUnit: "350$", priceThree: "800$", code: "P302", options: [{color: "Gris", size: "S"}, {color: "Bleu", size: "XL"}]},
         {image: "img/Grimel 24.jpg", name: "Modele Bicolore", priceUnit: "300$", priceThree: "700$", code: "AA512", options: [{color: "Vert", size: "M"}, {color: "Jaune", size: "L"}]},
            {image: "img/jupe jeans.jpg", name: "Modele celebration", priceUnit: "253000$", priceThree: "700$", code: "P202", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "XL"}]},
         {image: "img/jupe.jpg", name: "Modele Bicolore", priceUnit: "300$", priceThree: "700$", code: "AA512", options: [{color: "Vert", size: "M"}, {color: "Jaune", size: "L"}]},
            {image: "img/mayo gason 2.jpg", name: "Modele celebration", priceUnit: "300$", priceThree: "700$", code: "P202", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "XL"}]},
        
         {image: "img/nadine.jpg", name: "Modele Bicolore", priceUnit: "350$", priceThree: "850$", code: "AA512", options: [{color: "Vert", size: "M"}, {color: "Jaune", size: "L"}]},
            {image: "img/new Louna.jpg", name: "Modele celebration", priceUnit: "300$", priceThree: "700$", code: "P202", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "XL"}]},
        
         {image: "img/new ti men.jpg", name: "Modele Bicolore", priceUnit: "350$", priceThree: "850$", code: "AA512", options: [{color: "Vert", size: "M"}, {color: "Jaune", size: "L"}]},
            {image: "img/robe anna.jpg", name: "Modele celebration", priceUnit: "300$", priceThree: "700$", code: "P202", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "XL"}]},
        
         {image: "img/robe legliz.jpg", name: "Modele Bicolore", priceUnit: "350$", priceThree: "850$", code: "AA512", options: [{color: "Vert", size: "M"}, {color: "Jaune", size: "L"}]},
            {image: "img/Taillieurs.jpg", name: "Modele celebration", priceUnit: "350$", priceThree: "850$", code: "P202", options: [{color: "Bleu", size: "S"}, {color: "Rouge", size: "XL"}]},
        
        
        
        
        ];

        products3.forEach((product) => {
            const optionsList = product.options.map(option => `${option.color} ${option.size}`).join(', ');
            document.write(`
                <div class="product" onclick="openModal('${product.image}', '${product.name}', '${product.priceUnit}', '${product.priceThree}', '${product.code}', '${optionsList}'); event.stopPropagation();">
                    <img src="${product.image}" alt="${product.name}" />
                    <h3>${product.name}</h3>
                    <div class="product-info">
                        <p>Prix Unitaire: ${product.priceUnit}</p>
                        <p>Prix pour 3: ${product.priceThree}</p>
                        <p>Code: ${product.code}</p>
                        <p>Options: ${optionsList}</p>
                    </div>
                </div>
            `);
        });
    </script>
</div>
<div id="dropdown4" class="dropdown-content">
    <script>
        const products4 = [
            {image: "img/produit4_1.jpg", name: "Produit 4.1", priceUnit: "500$", priceThree: "1200$", code: "P401", options: [{color: "Rouge", size: "M"}, {color: "Vert", size: "L"}]},
            {image: "img/produit4_2.jpg", name: "Produit 4.2", priceUnit: "550$", priceThree: "1300$", code: "P402", options: [{color: "Jaune", size: "S"}, {color: "Noir", size: "XL"}]},
        ];

        products4.forEach((product) => {
            const optionsList = product.options.map(option => `${option.color} ${option.size}`).join(', ');
            document.write(`
                <div class="product" onclick="openModal('${product.image}', '${product.name}', '${product.priceUnit}', '${product.priceThree}', '${product.code}', '${optionsList}'); event.stopPropagation();">
                    <img src="${product.image}" alt="${product.name}" />
                    <h3>${product.name}</h3>
                    <div class="product-info">
                        <p>Prix Unitaire: ${product.priceUnit}</p>
                        <p>Prix pour 3: ${product.priceThree}</p>
                        <p>Code: ${product.code}</p>
                        <p>Options: ${optionsList}</p>
                    </div>
                </div>
            `);
        });
    </script>
</div>
<div id="dropdown5" class="dropdown-content">
    <script>
        const products5 = [
            {image: "img/produit5_1.jpg", name: "Produit 5.1", priceUnit: "600$", priceThree: "1400$", code: "P501", options: [{color: "Bleu", size: "M"}, {color: "Gris", size: "L"}]},
            {image: "img/produit5_2.jpg", name: "Produit 5.2", priceUnit: "650$", priceThree: "1500$", code: "P502", options: [{color: "Blanc", size: "S"}, {color: "Rouge", size: "XL"}]},
        ];

        products5.forEach((product) => {
            const optionsList = product.options.map(option => `${option.color} ${option.size}`).join(', ');
            document.write(`
                <div class="product" onclick="openModal('${product.image}', '${product.name}', '${product.priceUnit}', '${product.priceThree}', '${product.code}', '${optionsList}'); event.stopPropagation();">
                    <img src="${product.image}" alt="${product.name}" />
                    <h3>${product.name}</h3>
                    <div class="product-info">
                        <p>Prix Unitaire: ${product.priceUnit}</p>
                        <p>Prix pour 3: ${product.priceThree}</p>
                        <p>Code: ${product.code}</p>
                        <p>Options: ${optionsList}</p>
                    </div>
                </div>
            `);
        });
    </script>
</div>

<!-- Modale de Livraison -->
<div id="livraisonModal" class="modal">
<div class="modal-content">
<span class="close" onclick="closeLivraisonModal()">&times;</span>
<h3>Choisissez votre adresse de livraison</h3>
<label for="adresse">Adresse:</label>
<select id="adresse">
<option value=" Autoroute Delmas 33 à 105 - Prix: 50$"> Autoroute Delmas 33 à 105 - Prix: 50$</option>
<option value="Delmas 33, Siloe - Prix: 50$">Delmas 33, Siloe - Prix: 50$</option>
<option value="Delmas 33 après Commissariat - Prix: 80$">Delmas 33 après Commissariat - Prix: 80$</option>
<option value="Geraille Bataille - Prix: 100$">Geraille Bataille - Prix: 100$</option>
<option value="Kafou Rita- Prix: 150$">Kafou Rita - Prix: 150$</option>
<option value="Kafou Fleuriot- Prix: 150$">Kafou Fleuriot - Prix: 150$</option>
<option value="Karade, limite Hopital Kingdom- Prix: 100$">Karade, limite Hospital Kingdom - Prix: 100$</option>
<option value="Delmas 75, Puits blain - Prix: 70$">Delmas 75, Puits blain - Prix: 70$</option>
<option value="Delmas Anndan (outre 33 et 75) - Prix: 50$">Delmas Anndan (outre 33 et 75) - Prix: 50$</option>
<option value="Bois-Verna - Prix: 50$">Bois-Verna - Prix: 50$</option>
<option value="Lalue, limite Immigration - Prix: 50$">Lalue, limite Immigration - Prix: 50$</option>
<option value="Petion-ville - Prix: 50$">Petion-ville - Prix: 50$</option>
<option value="Routes Freres avant Djoumbala - Prix: 70$">Routes Freres avant Djoumbala - Prix: 70$</option>
<option value="Routes Freres après Djoumbala - Prix: 80$">Routes Freres après Djoumbala - Prix: 80$</option>
<option value="3 Mains- Prix: 100$">3 Mains - Prix: 100$</option>
</select>
<br><br>
<label for="numeroWhatsapp">Numéro Whatsapp:</label>
<input type="text" id="numeroWhatsapp" placeholder="Entrez votre numéro Whatsapp">
<br><br>
<label for="numeroAppel">Numéro d'appel:</label>
<input type="text" id="numeroAppel" placeholder="Entrez votre numéro d'appel">
<br><br>
<label for="heureLivraison">Heure de la livraison:</label>
<select id="heureLivraison">
<option value="matin">Matin</option>
<option value="apres-midi">Après-midi</option>
</select>
<br><br>
<button class="btn" onclick="validerLivraison()">Valider</button>
</div>
</div>

<!-- Modal de confirmation de livraison -->
<div id="confirmationModal" class="modal">
<div class="modal-content">
<span onclick="closeConfirmationModal()" style="cursor:pointer">&times;</span>
<h2>Informations de Livraison</h2>
<div id="confirmationDetails"></div>
<button class="btn" onclick="allerAuxReglements()">Continuer</button> <!-- Nouveau bouton CONTINUER -->
</div>
</div>

<!-- Modale pour les règlements -->
<div id="reglementsModal" class="modal">
<div class="modal-content">
<span class="close" onclick="closeReglementsModal()">&times;</span>
<h2>Règlements</h2>
<P>Nous ne faisons pas de livraison d'essayage pour les robes, c'est-à-dire que le client n'est pas autorisé à essayer les robes. Ce cas est contraire pour tout autre article.</P>

<P>Lorsque le livreur est arrivé, vous devez lui payer le montant de la livraison. Ensuite, il vous communiquera votre commande. S'il y a une erreur de notre part, il vous remboursera sur le champ le montant de la livraison.</P>

<P>C'est à vous de vérifier ou d'inspecter votre commande. Nous n'autorisons pas les retours.</P>

<P>En cliquant sur Continuer, les détails de la livraison et de votre commande seront envoyés à notre équipe, et un de nos agents vous contactera dans l'heure que vous avez choisie. Si vous souhaitez une heure spécifique, contactez notre service à la clientèle, qui traitera votre commande selon vos besoins.</P>
<button class="btn" onclick="continuer()">Continuer</button>
</div>
</div>

<!-- Modale -->
<div id="myModal" class="modal">
<div class="modal-content">
<span class="close" onclick="closeModal()">&times;</span>
<img id="modalImage" src="" alt="" style="max-width: 10%; height: auto;">
<h3 id="modalName"></h3>
<div id="modalOptions"></div>

<button class="btn" onclick="selectionnerProduit()">Sélectionner</button>
</div>
</div>

<div id="panier"></div>

<!-- Modale pour afficher les détails du produit -->
<div id="detailsModal" class="modal">
<div class="modal-content">
<span onclick="closeDetailsModal()" style="cursor:pointer">&times;</span>
<h2>Détails du Produit</h2>
<img id="modalImage" src="" alt="" style="max-width: 100px;">
<p id="modalName"></p>
<p id="modalPrice"></p>
<p id="modalDeliveryAddress"></p>
<p id="modalTotal"></p>
<button class="btn" onclick="closeDetailsModal()">Retour</button>
<button class="btn" onclick="allerAuxReglements()">Continuer</button>
</div>
</div>

<!-- Modale de Réservation -->
<div id="reservationModal" class="modal">
<div class="modal-content">
<span class="close" onclick="closeReservationModal()">&times;</span>
<h3>Réservation</h3>
<label for="nom">Nom:</label>
<input type="text" id="nom" placeholder="Entrez votre nom">
<br><br>
<label for="prenom">Prénom:</label>
<input type="text" id="prenom" placeholder="Entrez votre prénom">
<br><br>
<label for="numero">Numéro:</label>
<input type="text" id="numero" placeholder="Entrez votre numéro">
<br><br>
<button class="btn" onclick="confirmerReservation()">Confirmer</button>
</div>
</div>

<!-- Modale pour afficher les détails de la réservation -->
<div id="reservationDetailsModal" class="modal">
<div class="modal-content">
<span class="close" onclick="closeReservationDetailsModal()">&times;</span>
<h2>Détails de la Réservation</h2>
<div id="reservationDetails"></div>
<button class="btn" onclick="openConditionsModal()">Poursuivre</button> <!-- Modifié pour ouvrir la nouvelle modale -->
</div>
</div>

<!-- Nouvelle modale pour les conditions -->
<div id="conditionsModal" class="modal">
<div class="modal-content">
<span class="close" onclick="closeConditionsModal()">&times;</span>
<h2>Conditions Générales</h2>
<P>La durée des réservations est de 48 heures. Passé ce délai, la commande sera annulée.</P>
<P>Pour appliquer une réservation sur nos produits, il faut obligatoirement verser la moitié du montant du ou des produits que vous souhaitez réserver.</P>
<P>Pas de marche arrière dans les réservations, ni de modification. Cependant, vous pouvez ajouter des éléments à votre commande. Pour cela, vous devez contacter nos services à la clientèle afin qu'un de nos agents s'en charge de votre cas.</P>
<P>En cliquant sur "J'ai lu et j'accepte les conditions", puis "Réserver", votre commande sera réservée et seul le nom ainsi que les coordonnées fournies pourront la récupérer. En cas de mandataire, veuillez contacter nos services à la clientèle pour le notifier.</P>
<button class="btn" onclick="accepterConditions()">J'ai lu et j'accepte les conditions</button>
</div>
</div>


<script>
let panierProduits = [];

function toggleDropdown(dropdownId) {
    var dropdown = document.getElementById(dropdownId);
    dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
}

function openModal(image, name, priceUnit, priceThree, code, options) {
    document.getElementById('modalImage').src = image;
    document.getElementById('modalName').innerText = name;

    const optionsDiv = document.getElementById('modalOptions');
    optionsDiv.innerHTML = ''; // Réinitialiser les options
    options.split(', ').forEach(option => {
        const [color, size] = option.split(' ');
        optionsDiv.innerHTML += `
            <label>
                <input type="checkbox" value="${color} ${size}"> ${color} ${size}
            </label><br>
        `;
    });

    document.getElementById('myModal').style.display = "block";
    // Stocker les informations du produit dans l'objet global
    window.selectedProduct = { image, name, priceUnit, priceThree, code };
}

function closeModal() {
    document.getElementById('myModal').style.display = "none";
}

function selectionnerProduit() {
    const selectedOptions = Array.from(document.querySelectorAll('#modalOptions input:checked')).map(input => input.value);
    const quantity = 1; // Vous pouvez définir une quantité par défaut si nécessaire

    // Ajouter le produit sélectionné au panier pour chaque option sélectionnée
    selectedOptions.forEach(option => {
        const [color, size] = option.split(' ');
        panierProduits.push({ ...window.selectedProduct, color, size, quantity });
    });

    afficherPanier();
    closeModal();
}

function openReservationModal() {
    document.getElementById('reservationModal').style.display = "block";
}

function closeReservationModal() {
    document.getElementById('reservationModal').style.display = "none";
}

function confirmerReservation() {
    const nom = document.getElementById('nom').value;
    const prenom = document.getElementById('prenom').value;
    const numero = document.getElementById('numero').value;

    // Afficher les détails de la réservation dans une nouvelle modale
    const details = panierProduits.map(product => `
        <p>Produit: ${product.name}, Code: ${product.code}, Couleur: ${product.color}, Taille: ${product.size}, Quantité: ${product.quantity}</p>
    `).join('');

    document.getElementById('reservationDetails').innerHTML = `
        <p>Nom: ${nom}</p>
        <p>Prénom: ${prenom}</p>
        <p>Numéro: ${numero}</p>
        <h4>Détails de la commande:</h4>
        ${details}
    `;
    document.getElementById('reservationDetailsModal').style.display = "block";

    // Enregistrer les informations de réservation dans le stockage local
    const reservationInfo = {
        nom,
        prenom,
        numero,
        productDetails: panierProduits
    };

    // Récupérer les informations de réservation existantes
    const existingReservationInfo = JSON.parse(localStorage.getItem('reservationInfo')) || [];
    
    // Ajouter les nouvelles informations à l'existant
    existingReservationInfo.push(reservationInfo);
    
    // Sauvegarder à nouveau dans le local storage
    localStorage.setItem('reservationInfo', JSON.stringify(existingReservationInfo));

    closeReservationModal();
}

function openConditionsModal() {
    document.getElementById('conditionsModal').style.display = "block";
}

function closeConditionsModal() {
    document.getElementById('conditionsModal').style.display = "none";
}

function accepterConditions() {
    alert("Votre réservation est réussie.");
    closeConditionsModal();
    closeReservationModal(); // Ferme la modale de réservation si ouverte
    closeLivraisonModal(); // Ferme la modale de livraison si ouverte
    closeConfirmationModal(); // Ferme la modale de confirmation si ouverte
    closeReglementsModal(); // Ferme la modale des règlements si ouverte
    closeReservationDetailsModal(); // Ferme la modale des détails de réservation si ouverte
}

// Fermer la modale si l'utilisateur clique en dehors
window.onclick = function(event) {
    if (event.target == document.getElementById('reservationModal')) {
        closeReservationModal();
    }
    if (event.target == document.getElementById('livraisonModal')) {
        closeLivraisonModal();
    }
    if (event.target == document.getElementById('confirmationModal')) {
        closeConfirmationModal();
    }
    if (event.target == document.getElementById('reglementsModal')) {
        closeReglementsModal();
    }
    if (event.target == document.getElementById('reservationDetailsModal')) {
        closeReservationDetailsModal();
    }
    if (event.target == document.getElementById('conditionsModal')) {
        closeConditionsModal();
    }
}

function afficherPanier() {
    const panier = document.getElementById('panier');
    panier.innerHTML = '<h4>Produits Sélectionnés :</h4>';

    // Regrouper les produits par nom
    const groupedProducts = panierProduits.reduce((acc, product) => {
        const key = `${product.name} (${product.code})`;
        if (!acc[key]) {
            acc[key] = { ...product, options: [] };
        }
        acc[key].options.push({ color: product.color, size: product.size, quantity: product.quantity });
        return acc;
    }, {});

    for (const key in groupedProducts) {
        const product = groupedProducts[key];
        const optionsList = product.options.map(opt => `${opt.color} ${opt.size} (Quantité: ${opt.quantity})`).join(', ');
        panier.innerHTML += `
            <div>
                <img src="${product.image}" alt="${product.name}" style="max-width: 50px; height: auto;">
                <p>Nom: ${product.name}</p>
                <p>Prix Unitaire: ${product.priceUnit}</p>
                <p>Prix pour 3: ${product.priceThree}</p>
                <p>Code: ${product.code}</p>
                <p>Options: ${optionsList}</p>
                <span class="cross" onclick="deselectionnerProduit('${key}')">&times;</span>
            </div>
        `;
    }

    // Ajouter les boutons "Livraison" et "Réservation"
    panier.innerHTML += `
        <button class="btn" onclick="allerALivraison()">Livraison</button>
        <button class="btn" onclick="openReservationModal()">Réservation</button>
    `;
}

function deselectionnerProduit(key) {
    panierProduits = panierProduits.filter(product => `${product.name} (${product.code})` !== key); // Retirer le produit du panier
    afficherPanier(); // Mettre à jour l'affichage du panier
}

function allerALivraison() {
    document.getElementById('livraisonModal').style.display = "block";
}

function closeLivraisonModal() {
    document.getElementById('livraisonModal').style.display = "none";
}

function validerLivraison() {
    const adresse = document.getElementById('adresse').value;
    const numeroWhatsapp = document.getElementById('numeroWhatsapp').value;
    const numeroAppel = document.getElementById('numeroAppel').value;
    const heureLivraison = document.getElementById('heureLivraison').value;

    const details = panierProduits.map(product => `
        <p>Produit: ${product.name}, Code: ${product.code}, Couleur: ${product.color}, Taille: ${product.size}, Quantité: ${product.quantity}</p>
    `).join('');

    document.getElementById('confirmationDetails').innerHTML = `
        <h3>Adresse de livraison: ${adresse}</h3>
        <p>Numéro Whatsapp: ${numeroWhatsapp}</p>
        <p>Numéro d'appel: ${numeroAppel}</p>
        <p>Heure de livraison: ${heureLivraison}</p>
        <h4>Détails de la commande:</h4>
        ${details}
    `;

    // Enregistrer les informations de livraison dans le stockage local
    const livraisonInfo = {
        adresse,
        numeroWhatsapp,
        numeroAppel,
        heureLivraison,
        details
    };

    // Récupérer les informations de livraison existantes
    const existingLivraisonInfo = JSON.parse(localStorage.getItem('livraisonInfo')) || [];
    
    // Ajouter les nouvelles informations à l'existant
    existingLivraisonInfo.push(livraisonInfo);
    
    // Sauvegarder à nouveau dans le local storage
    localStorage.setItem('livraisonInfo', JSON.stringify(existingLivraisonInfo));

    document.getElementById('confirmationModal').style.display = "block";
    closeLivraisonModal();
}

function closeConfirmationModal() {
    document.getElementById('confirmationModal').style.display = "none";
}

// Fonction pour aller aux règlements
function allerAuxReglements() {
    document.getElementById('reglementsModal').style.display = "block";
}

// Fonction pour fermer la modale des règlements
function closeReglementsModal() {
    document.getElementById('reglementsModal').style.display = "none";
}

// Fonction pour le bouton CONTINUER
function continuer() {
    // Récupérer les informations de livraison du stockage local
    const livraisonInfo = JSON.parse(localStorage.getItem('livraisonInfo'));
    if (livraisonInfo) {
        alert(`Informations de livraison récupérées :\n${livraisonInfo.map(info => `Adresse : ${info.adresse}\nNuméro Whatsapp : ${info.numeroWhatsapp}\nNuméro d'appel : ${info.numeroAppel}\nHeure de livraison : ${info.heureLivraison}`).join('\n\n')}`);
    } else {
        alert("Aucune information de livraison trouvée.");
    }
}
</script>